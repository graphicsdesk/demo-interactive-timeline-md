parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dr0g":[function(require,module,exports) {
var t,e,n,a,o,r=0,l=0,s=d3.select("main"),c=s.select("#scrolly"),i=c.select("#sticky-thing"),d=c.select("article"),u=d.selectAll(".step"),f=["January","February","March","April","May","June","July","August","September","October","November","December"],g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=[{date:new Date("2024-08-25"),event_no:"1",label:"First day of NSOP",segment:"start",annotation:"Barnard starts NSOP here",target:new Date(2024,7,28)},{date:new Date("2024-09-01"),event_no:"2",label:"End of NSOP",segment:"end"},{date:new Date("2024-09-03"),event_no:"3",label:"First day of class",segment:"start",link:"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/SXKBMSVSGRG33IB2XATXOLRLD4.png"},{date:new Date("2024-09-13"),event_no:"4",label:"End of shopping period",segment:"end",link:"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/BKWCFTETX5D3XFUR2KICPMFP4E.png"},{date:new Date("2024-10-08"),event_no:"5",label:"Last day to drop classes",segment:"na"},{date:new Date("2024-10-17"),event_no:"6",label:"Fall midterm date",segment:"na",link:"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/WBKEKOAX3BED3LR7466RLHXJKY.png"},{date:new Date("2024-10-26"),event_no:"7",label:"Homecoming game",segment:"na",link:"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/MOBF27JBSRCKHNWURS4M24G2T4.png"},{date:new Date("2024-11-04"),event_no:"8",label:"Start of election holiday",segment:"start",link:"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/DQGZ4DEU4NGK5APJB4KP3MENY4.png"},{date:new Date("2024-11-05"),event_no:"9",label:"End of election holiday",segment:"end"},{date:new Date("2024-11-14"),event_no:"10",label:"Last day to withdraw/PDF",segment:"na",annotation:"Also the last day to drop classes for SEAS students",target:new Date(2024,10,15)},{date:new Date("2024-11-18"),event_no:"11",label:"Start registration",segment:"start"},{date:new Date("2024-11-22"),event_no:"12",label:"End registration",segment:"end"},{date:new Date("2024-11-27"),event_no:"13",label:"Start of Thanksgiving break",segment:"start",link:"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/IYOOWB5KB5BXJKSKIMHAZIVWNA.png"},{date:new Date("2024-11-29"),event_no:"14",label:"End of Thanksgiving break",segment:"end"},{date:new Date("2024-12-09"),event_no:"15",label:"Last day of class",segment:"na",link:"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/Y256NHNJ6FFSZLZ2ZULRUQI3DE.png"},{date:new Date("2024-12-10"),event_no:"16",label:"Start of reading period",segment:"start",link:"https://cloudfront-us-east-1.images.arcpublishing.com/spectator/YUYOAPVRPFHIRFQ75CTARUZVNE.png"},{date:new Date("2024-12-12"),event_no:"17",label:"End of reading period",segment:"end"},{date:new Date("2024-12-13"),event_no:"18",label:"Start of finals",segment:"start"},{date:new Date("2024-12-20"),event_no:"19",label:"End of finals",segment:"end"}];t=document.body.clientWidth,e=window.innerHeight;var h=d3.select("svg").attr("width",t).attr("height",e).style("display","block").style("margin","auto").attr("viewBox","0 0 ".concat(t," ").concat(e)),m=Math.min(t/7,e/8);function y(t,e){t.each(function(){for(var t,n=d3.select(this),a=n.text().split(/\s+/).reverse(),o=[],r=0,l=n.attr("x"),s=n.attr("y"),c=n.text(null).append("tspan").attr("x",l).attr("y",s).attr("dy","0em");t=a.pop();)o.push(t),c.text(o.join(" ")),c.node().getComputedTextLength()>e&&(o.pop(),c.text(o.join(" ")),o=[t],c=n.append("tspan").attr("x",l).attr("y",s).attr("dy",1.1*++r+0+"em").text(t))})}function v(e,n){var a=new Date(n,e,1).getDay(),o=new Date(n,e+1,0).getDate();console.log(a);var r=h.append("g").attr("class","calendar-month-".concat(e)).attr("transform","translate(".concat(t,", 0)"));console.log(t),console.log(m),console.log((t-7*m)/7),console.log(t%m),r.append("text").attr("x",t/2).attr("y",m/2).attr("text-anchor","middle").text(f[e]+" "+n).style("font-weight","bold").style("font-size","16px").classed("roboto-bold",!0),r.selectAll(".header").data(g).enter().append("text").attr("x",function(e,n){return n*m+m/2+(t-7*m)/2}).attr("y",m).attr("text-anchor","middle").text(function(t){return t}).classed("roboto",!0);var l=new Set(p.filter(function(t){return t.date.getUTCMonth()===e&&t.date.getUTCFullYear()===n}).map(function(t){return t.date.getUTCDate()}));console.log(l),r.selectAll("rect").data(d3.range(o)).enter().append("rect").attr("x",function(e,n){return(n+a)%7*m+(t-7*m)/2}).attr("y",function(t){return Math.floor((t+a)/7)*m+m+20}).attr("width",m).attr("height",m).attr("fill","#fff").attr("stroke","#ddd").attr("id",function(t){return"day-".concat(e+1,"-").concat(t+1)}),r.selectAll(".day").data(d3.range(o)).enter().append("text").attr("x",function(e,n){return(n+a)%7*m+m/2+(t-7*m)/2}).attr("y",function(t){return Math.floor((t+a)/7)*m+m+35}).attr("text-anchor","middle").classed("roboto-light",!0).text(function(t){return t+1}).style("font-size","14px"),p.forEach(function(o){if(o.date.getUTCMonth()===e&&o.date.getUTCFullYear()===n){var l=o.date.getUTCDate(),s=(l+a-1)%7*m+m/2+(t-7*m)/2,c=Math.floor((l+a-1)/7)*m+m+.8*m;o.link&&r.append("image").attr("xlink:href",o.link).attr("x",s-m/2).attr("y",c-m/2).attr("width",m).attr("height",m).attr("id",function(t,e){return"image-".concat(e)})}})}var b=[7,8,9,10,11],w=2024,x=b[0],D=scrollama();function k(t){return"down"==t.direction?U[t.index]():"up"==t.direction&&_[t.index](),i.attr("class","step-"+t.index),console.log("index",t.index),t}function T(t){0==t.index&&"up"==t.direction&&X(b[0])}function M(){h.selectAll(".calendar-month").remove(),b.forEach(function(t){v(t,w)}),X(b[0])}function A(e,n){var a=e.getUTCDate(),o=e.getUTCMonth(),r=h.select(".calendar-month-".concat(o)),l=(a+2)%7*m+m/2+(t-7*m)/2,s=Math.floor((a+1+0)/7)*m+m+m/2;r.append("path").attr("d","M".concat(l+m/4," ").concat(s-m/2," Q").concat(l+m/1.7," ").concat(s+m/2," ").concat(l+m," ").concat(s)).attr("fill","none").attr("stroke","black").attr("stroke-width",2).classed("annotation-arrow",!0).style("opacity","100").classed("annotation",!0).attr("stroke-dasharray",function(){return this.getTotalLength()}).attr("stroke-dashoffset",function(){return this.getTotalLength()}).transition().duration(1e3).attr("stroke-dashoffset",0).on("end",function(){r.selectAll(".annotation-arrow").attr("marker-end","url(#arrowhead)")}),r.append("text").attr("x",l+m/8).attr("y",s-m/1.6).text("".concat(n)).style("opacity","100").style("font-size","14px").attr("text-anchor","middle").style("fill","black").classed("annotation",!0).classed("roboto",!0).call(y,3*m)}function S(){M(),X(b[0])}function M(){h.selectAll(".calendar-month").remove(),b.forEach(function(t){return v(t,w)}),X(b[0])}h.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto-start-reverse").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");for(var U=[],E=function(t){U.push(function(){(X(p[t].date.getUTCMonth()),h.select(".event-".concat(t)).transition().duration(1e3).style("fill","#75aadb"),"end"!==p[t].segment&&(h.selectAll(".event-".concat(t-1)).transition().duration(1e3).style("fill","white"),h.selectAll(".event-".concat(t-2)).transition().duration(1e3).style("fill","white")),"start"==p[t].segment)&&P(p[t].date,p[t+1].date);p[t].annotation&&A(p[t].target,p[t].annotation)})},C=0;C<p.length+2;C++)E(C);for(var _=[],F=function(t){_.push(function(){(h.selectAll(".annotation").transition().duration(1e3).style("opacity","0"),h.select(".event-".concat(t)).transition().duration(1e3).style("fill","#75aadb"),"start"==p[t].segment)&&P(p[t].date,p[t+1].date);Y(p[t].date.getUTCMonth())}),"end"!==p[t].segment&&(h.selectAll(".event-".concat(t+1)).transition().duration(1e3).style("fill","white"),h.selectAll(".event-".concat(t+2)).transition().duration(1e3).style("fill","white"))},L=0;L<p.length;L++)F(L);var B=d3.select("#scroll-steps").selectAll("div").data(p).enter().append("div").attr("class","step").text(function(t){return t.label});function K(){S(),D.setup({step:"#scrolly article .step",offset:.98,debug:!1}).onStepEnter(k).onStepExit(T),window.addEventListener("resize",D.resize)}K();for(var I=0;I<p.length;I++){var N=p[I].date.getUTCMonth()+1,R=p[I].date.getUTCDate(),O="".concat(N,"-").concat(R);h.select("#day-".concat(O)).classed("event-".concat(I),!0)}function P(t,e){if(t>e){var n=[e,t];t=n[0],e=n[1]}h.selectAll("rect").transition().duration(1e3).style("fill","white").on("end",function(){for(var n=new Date(t);n<=e;){var a=n.getUTCMonth()+1,o=n.getUTCDate(),r="day-".concat(a,"-").concat(o);h.select("#".concat(r)).transition().duration(1e3).style("fill","#75aadb"),n.setUTCDate(n.getUTCDate()+1)}})}function X(t){if(console.log("currentMonthIndex",x),console.log("newMonthIndex",t),x!==t){var n=h.select(".calendar-month-".concat(x)),a=h.select(".calendar-month-".concat(t)),o=e;n.transition().duration(1e3).attr("transform","translate(0, ".concat(o,")")).on("end",function(){n.style("display","none")}),a.attr("transform","translate(0, ".concat(-o,")")).style("display","block").transition().duration(1e3).attr("transform","translate(0, 0)"),x=t}else h.select(".calendar-month-".concat(t)).style("display","block").attr("transform","translate(0, 0)")}function Y(t){if(console.log("currentMonthIndex",x),console.log("newMonthIndex",t),x!==t){var n=h.select(".calendar-month-".concat(x)),a=h.select(".calendar-month-".concat(t)),o=e;n.transition().duration(1e3).attr("transform","translate(0, ".concat(-o,")")).on("end",function(){n.style("display","none")}),a.attr("transform","translate(0, ".concat(o,")")).style("display","block").transition().duration(1e3).attr("transform","translate(0, 0)"),x=t}}
},{}]},{},["dr0g"], "script")
//# sourceMappingURL=script_calendar.027d29ae.js.map